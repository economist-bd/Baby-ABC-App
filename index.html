<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Baby ABC 3D App</title>
    <meta name="theme-color" content="#FFD166">
    <link rel="manifest" href="manifest.json">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Hind+Siliguri:wght@400;600&display=swap');

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 10px; background-color: #f0f4f8;
            background-image: radial-gradient(circle at 10% 20%, rgb(255, 209, 102) 0%, rgb(17, 138, 178) 90%);
            font-family: 'Fredoka One', cursive; 
            display: flex; flex-direction: column;
            align-items: center; min-height: 100vh; overflow-x: hidden;
        }

        h1 { 
            color: #fff; text-shadow: 2px 2px 0px rgba(0,0,0,0.2); 
            font-size: 2rem; margin-bottom: 15px; margin-top: 10px;
            letter-spacing: 1px; text-align: center;
        }

        /* --- Grid Layout --- */
        .grid-container { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(75px, 1fr)); 
            gap: 15px; width: 100%; max-width: 500px; padding-bottom: 120px; 
        }

        /* --- 3D Letter Card --- */
        .letter-card {
            background: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(5px); border-radius: 15px; aspect-ratio: 1;
            display: flex; justify-content: center; align-items: center; 
            font-size: 2.5rem; color: #06D6A0; cursor: pointer;
            box-shadow: 
                6px 6px 12px rgba(0,0,0,0.15), 
                -6px -6px 12px rgba(255,255,255,0.6), 
                inset 2px 2px 5px rgba(255,255,255,0.8);
            border: 2px solid rgba(255,255,255,0.9); 
            transition: transform 0.1s ease;
        }
        .letter-card:nth-child(3n) { color: #EF476F; } 
        .letter-card:nth-child(3n+1) { color: #118AB2; }
        .letter-card:active { transform: scale(0.92); }

        /* --- Modal Popup --- */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; 
            width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); 
            align-items: center; justify-content: center; backdrop-filter: blur(8px);
        }
        .modal-content {
            background: #fff; border-radius: 25px; padding: 20px;
            text-align: center; width: 90%; max-width: 350px; position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 5px solid #FFD166;
            animation: popUp 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }
        @keyframes popUp { from {transform: scale(0.5); opacity: 0;} to {transform: scale(1); opacity: 1;} }
        
        .modal-img-container {
            width: 220px; height: 220px; margin: 10px auto; border-radius: 15px; 
            overflow: hidden; background: #eee; border: 2px solid #eee;
        }
        .modal-img-container img { width: 100%; height: 100%; object-fit: contain; }
        
        .big-letter { font-size: 3.5rem; margin: 0; color: #118AB2; }
        .modal-text { font-size: 1.5rem; color: #333; margin: 5px 0 0; }
        .close-btn {
            position: absolute; top: 10px; right: 15px; color: #EF476F; 
            font-size: 40px; font-weight: bold; cursor: pointer; line-height: 20px;
        }

        /* --- Developer Button (New) --- */
        .dev-container {
            position: fixed; bottom: 20px; left: 0; width: 100%;
            display: flex; flex-direction: column; align-items: center; gap: 10px;
            z-index: 90; pointer-events: none; /* Let clicks pass through container */
        }

        .dev-btn {
            pointer-events: auto;
            text-decoration: none;
            background: linear-gradient(135deg, #2b2d42 0%, #8d99ae 100%);
            color: white; padding: 10px 20px; border-radius: 30px;
            font-family: 'Hind Siliguri', sans-serif; font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            display: flex; align-items: center; gap: 8px;
            transition: transform 0.2s; border: 2px solid rgba(255,255,255,0.3);
        }
        .dev-btn:active { transform: scale(0.95); }

        /* Install Button */
        #installBtn {
            pointer-events: auto; display: none; padding: 12px 25px; 
            background: #06D6A0; color: white; border: none; 
            border-radius: 50px; font-family: inherit; font-size: 1rem; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>Baby ABC 3D</h1>
    
    <div class="grid-container" id="app"></div>

    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h1 id="modalLetter" class="big-letter"></h1>
            <div class="modal-img-container">
                <img id="modalImage" src="" alt="Loading...">
            </div>
            <h2 id="modalText" class="modal-text"></h2>
        </div>
    </div>

    <div class="dev-container">
        <button id="installBtn">üì≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        
        <a href="https://demand-supply.vercel.app/" target="_blank" class="dev-btn">
            <span>üë®‚Äçüíª ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</span>
        </a>
    </div>

    <script>
        // ==========================================
        // ‡¶ß‡¶æ‡¶™ ‡ßß: ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡¶ø‡¶ü‡¶π‡¶æ‡¶¨‡ßá‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶¨‡¶∏‡¶æ‡¶®
        // ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: 'https://raw.githubusercontent.com/‡¶Ü‡¶™‡¶®‡¶æ‡¶∞_‡¶®‡¶æ‡¶Æ/‡¶Ü‡¶™‡¶®‡¶æ‡¶∞_‡¶∞‡ßá‡¶™‡ßã/main/images'
        // ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶® ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá‡¶∞ ‡¶∂‡ßá‡¶∑‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶∂ (/) ‡¶¶‡ßá‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§
        // ==========================================
        const GITHUB_BASE_URL = 'https://raw.githubusercontent.com/‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ/‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶∞‡ßá‡¶™‡ßã/main'; 
        // ==========================================

        const vocabData = {
            'A': 'Apple', 'B': 'Ball', 'C': 'Cat', 'D': 'Dog',
            'E': 'Elephant', 'F': 'Fish', 'G': 'Grapes', 'H': 'Horse',
            'I': 'Ice Cream', 'J': 'Juice', 'K': 'Kite', 'L': 'Lion',
            'M': 'Monkey', 'N': 'Nest', 'O': 'Orange', 'P': 'Parrot',
            'Q': 'Queen', 'R': 'Rabbit', 'S': 'Sun', 'T': 'Tiger',
            'U': 'Umbrella', 'V': 'Van', 'W': 'Watch', 'X': 'Xylophone',
            'Y': 'Yak', 'Z': 'Zebra'
        };

        const app = document.getElementById('app');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalText = document.getElementById('modalText');
        const modalLetter = document.getElementById('modalLetter');
        const closeBtn = document.getElementsByClassName("close-btn")[0];
        let currentUtterance = null;

        // Grid ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ
        Object.keys(vocabData).forEach(letter => {
            const div = document.createElement('div');
            div.className = 'letter-card';
            div.textContent = letter;
            div.onclick = () => showContent(letter);
            app.appendChild(div);
        });

        // ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶æ‡¶∞
        function showContent(letter) {
            const word = vocabData[letter];
            const phrase = `${letter} for ${word}`;
            
            modalLetter.textContent = letter;
            modalText.textContent = phrase;
            
            // GitHub ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá: a.jpg, b.jpg ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø
            // .toLowerCase() ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶õ‡ßã‡¶ü ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá
            modalImg.src = `${GITHUB_BASE_URL}/${letter.toLowerCase()}.jpg`; 
            
            modal.style.display = "flex";
            playSpeech(phrase);
        }

        function playSpeech(text) {
            if ('speechSynthesis' in window) {
                if (currentUtterance) window.speechSynthesis.cancel();
                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.lang = 'en-US';
                currentUtterance.rate = 0.8; 
                window.speechSynthesis.speak(currentUtterance);
            }
        }

        // ‡¶ï‡ßç‡¶≤‡ßã‡¶ú ‡¶¨‡¶æ‡¶ü‡¶®
        closeBtn.onclick = closeModal;
        modal.onclick = (e) => { if (e.target == modal) closeModal(); }
        function closeModal() {
            modal.style.display = "none";
            modalImg.src = ""; // ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá
            if (currentUtterance) window.speechSynthesis.cancel();
        }

        // PWA ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js');
            });
        }

        // ‡¶á‡¶®‡¶∏‡ßç‡¶ü‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï
        let deferredPrompt;
        const installBtn = document.getElementById('installBtn');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault(); deferredPrompt = e; installBtn.style.display = 'block';
        });
        installBtn.addEventListener('click', () => {
            installBtn.style.display = 'none'; deferredPrompt.prompt(); deferredPrompt = null;
        });
    </script>
</body>
</html>
